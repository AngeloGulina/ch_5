<html>
  <head>
    <!-- for the console part -->
    <script src="movies.js"></script>
    <script src="data.js"></script>

    <!-- for the UI part -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
    <script src="router.js"></script>

    <link rel="stylesheet" href="/style.css" type="text/css"> 
  </head>
<body>

<header>
  <a href="/references">Back to examples</a>
</header>

<h1>About</h1>

<p>In this example, you can sort movies on different parameters: Title, Showtime and Rating</p>

<h1>From the console</h1>

<p>You can access the movies from the console with:</p>

<code>
	movies;
</code>

Or, create new movies instances:

<code>
	var moviesByShowtime = new Movies(raw);
</code>

<p>You can then call the sort functions, and output the state of the collection with:</p>

<code>
	movies.log();
</code>

First, you can compute a new order with

<code>
	movies.sortByTitle();
</code>

To set the new order, combine the sort with a reset:

<code>
	movies.reset(movies.sortByTitle());
</code>

To sort by Showtime, you can try:
<code>
	movies.reset(movies.sortByShowtime())
</code>

<h1>From a UI</h1>

<p>The same collection can be sorted with a UI</p>

<div id="movies">
</div>

<!-- this is for the console part -->
<script>
  var Movies = require('movies');
  var raw = require('raw');
  var movies = new Movies(raw);
</script>

<!-- this loads the UI and needs Backbone and jQuery -->
<script>
  Backbone.$ = $;
  var MoviesRouter = require('router');
  $(document).ready(function() {
    console.log('init');
    var router = new MoviesRouter({el: $('#movies'), movies: movies });
    Backbone.history.start({
      pushState: false,
      root: '/'
    });
  });
</script>

</body>
</html>
